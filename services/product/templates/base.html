<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ title or "Chandru Shop" }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Tailwind CDN (quick, no compile) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#0f6fb5",    /* Flipkart-ish blue */
              accent: "#ffb400",     /* accent (price badge) */
              muted: "#6b7280"
            },
            fontFamily: {
              sans: ["Inter", "ui-sans-serif", "system-ui", "sans-serif"]
            }
          }
        }
      }
    </script>

    <!-- App CSS from templates folder (served via /templates/style.css) -->
    <link rel="stylesheet" href="{{ url_for('template_static', filename='style.css') }}">

    <!-- small script to update cart badge (optional) -->
    <script>
      function setCartCount(n){
        const el = document.getElementById('cart-count');
        if(!el) return;
        el.textContent = n>0? n : '';
      }
    </script>
  </head>

  <body class="bg-gray-50 text-gray-800 font-sans">
    <!-- NAVBAR -->
    <header class="bg-white shadow-sm sticky top-0 z-30">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <!-- brand -->
          <a href="/" class="flex items-center space-x-3">
            <div class="w-10 h-10 rounded-md bg-primary flex items-center justify-center text-white font-bold">C</div>
            <div>
              <div class="text-lg font-semibold">Chandru Shop</div>
              <div class="text-xs text-muted">Everyday essentials</div>
            </div>
          </a>

          <!-- search (middle) -->
          <form action="/" method="get" class="flex-1 max-w-2xl mx-6 hidden md:block">
            <div class="relative">
              <input name="q" value="{{ q or '' }}" placeholder="Search for products, brands and more" class="w-full border rounded-l-full rounded-r-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary" />
              <button type="submit" class="absolute right-1 top-1/2 -translate-y-1/2 bg-primary text-white px-4 py-1 rounded-full text-sm">Search</button>
            </div>
          </form>

          <!-- right -->
          <div class="flex items-center space-x-6">
            <a href="#" class="text-sm text-muted hover:text-gray-800">Sign in</a>
            <a href="#" class="relative inline-flex items-center">
              <svg class="w-6 h-6 text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 3h2l.4 2M7 13h10l4-8H5.4"></path></svg>
              <span id="cart-count" class="absolute -top-2 -right-3 bg-accent text-white text-xs rounded-full px-1.5 py-0.5"></span>
            </a>
          </div>
        </div>
      </div>

      <!-- small mobile search -->
      <div class="md:hidden px-4 pb-4">
        <form action="/" method="get">
          <div class="relative">
            <input name="q" value="{{ q or '' }}" placeholder="Search products" class="w-full border rounded-full px-4 py-2" />
          </div>
        </form>
      </div>
    </header>

    <!-- MAIN -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      {% block hero %}{% endblock %}
      {% block content %}{% endblock %}
    </main>

    <!-- FOOTER -->
    <footer class="bg-white border-t mt-12">
      <div class="max-w-7xl mx-auto px-4 py-8 text-sm text-gray-600">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <div>© {{ now().year }} Chandru Shop — Built with ❤️</div>
          <div class="mt-3 md:mt-0 text-xs text-muted">Hosted on AKS • Fast & simple</div>
        </div>
      </div>
    </footer>
  </body>
</html>
